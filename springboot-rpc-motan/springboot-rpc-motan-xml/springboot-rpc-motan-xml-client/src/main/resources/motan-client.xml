<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:motan="http://api.weibo.com/schema/motan"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
        http://api.weibo.com/schema/motan http://api.weibo.com/schema/motan.xsd">

    <!-- 服务注册中心配置Consul -->
    <!--<motan:registry regProtocol="consul"
                    name="registry"
                    address="192.168.127.131:8500"/>-->
    <motan:registry regProtocol="direct" name="registry" address="localhost:50010"/>


    <!-- motan协议配置 -->
    <motan:protocol default="true"
                    name="motan"
                    haStrategy="failover"
                    loadbalance="roundrobin"
                    maxClientConnection="10"
                    minClientConnection="2"/>


    <!-- 通用referer基础配置 -->
    <motan:basicReferer requestTimeout="200"
                        accessLog="false"
                        retries="3"
                        group="g1"
                        module="m1"
                        application="motan-service"
                        protocol="motan"
                        registry="registry"
                        id="motanBasicReferer"
                        throwException="false"
                        check="true"/>


    <!-- 具体referer配置。使用方通过beanid使用服务接口类 -->
    <motan:referer id="motanReferer"
                   interface="org.ostenant.springboot.learning.examples.service.department.IDepartmentService"
                   connectTimeout="300"
                   requestTimeout="300"
                   basicReferer="motanBasicReferer"/>


</beans>
